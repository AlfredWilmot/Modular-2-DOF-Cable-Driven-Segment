<?xml version="1.0" ?>
<robot name="SARA">

<!-- Defining Base-link such that it is fixed in place to the world -->
	<link name="world"/>
	<link name="base_link">
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<mass value="1.0"/>
			<inertia ixx="0.04" ixy="0.04" ixz="0.04" iyy="0.04" iyz="0.04" izz="0.04"/>
		</inertial>
		<visual>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<mesh filename="package://sara_8dof_v1/meshes/base.stl"/>
			</geometry>
			<material name="">
				<color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
			</material>
		</visual>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<mesh filename="package://sara_8dof_v1/meshes/base.stl"/>
			</geometry>
		</collision>
	</link>
	<joint name="world_frame" type="fixed">
	<origin rpy="1.57079632679 0 0" xyz="0.0 0.0 0.01"/>
		<parent link="world"/>
		<child link="base_link"/>
	</joint>

<!-- modified URDF generated by plugin to include collision info (matches visual model)-->
	<link name="link1">
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<mass value="1.0"/>
			<inertia ixx="0.04" ixy="0.04" ixz="0.04" iyy="0.04" iyz="0.04" izz="0.04"/>
		</inertial>
		<visual>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<mesh filename="package://sara_8dof_v1/meshes/link1.stl"/>
			</geometry>
			<material name="">
				<color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
			</material>
		</visual>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<mesh filename="package://sara_8dof_v1/meshes/link1.stl"/>
			</geometry>
		</collision>
	</link>
	<link name="link2">
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<mass value="1.0"/>
			<inertia ixx="0.04" ixy="0.04" ixz="0.04" iyy="0.04" iyz="0.04" izz="0.04"/>
		</inertial>
		<visual>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<mesh filename="package://sara_8dof_v1/meshes/link2.stl"/>
			</geometry>
			<material name="">
				<color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
			</material>
		</visual>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<mesh filename="package://sara_8dof_v1/meshes/link2.stl"/>
			</geometry>
		</collision>
	</link>
	<joint name="joint0" type="revolute">
		<origin rpy="0.0 0.0 0.0" xyz="0.04316036512320408 0.04848245206563817 0.027454509104734993"/>
		<parent link="base_link"/>
		<child link="link1"/>
		<axis xyz="-1.0000000000000036 8.979975634925549e-16 3.609607530446545e-15"/>
		<limit effort="99" lower="-0.7853981633974483" upper="0.7853981633974483" velocity="99"/>
	</joint>
	<joint name="joint1" type="revolute">
		<origin rpy="0.0 0.0 0.0" xyz="-0.016550000000000054 0.040054000000004225 -0.01210000000000057"/>
		<parent link="link1"/>
		<child link="link2"/>
		<axis xyz="5.267338778969267e-15 -5.467848396278865e-15 1.0000000000000524"/>
		<limit effort="99" lower="-0.7853981633974483" upper="0.7853981633974483" velocity="99"/>
	</joint>

<!-- Dummy joint transmission parameters for Gazebo sim (assumes motor directly coupled to joint with 0 reduction) -->
	<transmission name="tran0">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="joint0">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="motor0">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</actuator>
	</transmission>

	<transmission name="tran1">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="joint1">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="motor1">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</actuator>
	</transmission>

	<!-- 
		 Gazebo plugins: 

			ros_control
			* Accepts new desired trajectories via follow_joint_trajectory, while joint_state_publisher publishes joint_states.
			* Makes joints move.

			joint_state_publisher
			* Publish current state of each joint to a topic 
	-->
	<gazebo>

		<plugin name="control" filename="libgazebo_ros_control.so" >
			<robotNamespace>/SARA</robotNamespace>
		</plugin>

		<plugin name="joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so" >
			<jointName>joint0, joint1</jointName>
			<updateRate>100.0</updateRate>
			<alwaysOn>true</alwaysOn>
			<!-- <robotNamespace>/SARA</robotNamespace> -->
		</plugin>

	</gazebo>

</robot>

